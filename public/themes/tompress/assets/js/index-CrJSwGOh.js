document.addEventListener("DOMContentLoaded",()=>{const l=()=>{const t=document.querySelector(".side-nav");window.location.pathname!=="/"&&(t.innerHTML=`
                <ul>
                    <li><a href="/" class="home-link">Accueil</a></li>
                    <li><a href="/portfolio" class="portfolio-link active">Portfolio</a></li>
                </ul>
            `)},h=()=>{const t=document.querySelectorAll(".side-nav a"),e=document.querySelector(".side-nav .active-indicator");t.forEach(i=>{i.addEventListener("click",n=>{n.preventDefault(),t.forEach(o=>o.classList.remove("active")),i.classList.add("active"),e&&(e.textContent=i.textContent);const s=i.getAttribute("href");if(s&&s.startsWith("#")){const o=document.querySelector(s);o&&o.scrollIntoView({behavior:"smooth"})}else window.location.href=s})})},u=()=>{const t=document.querySelectorAll(".section"),e=document.querySelectorAll(".side-nav a");if(t.length>0){const i=()=>{let n=t.length;for(;--n&&window.scrollY+100<t[n].offsetTop;);e.forEach(s=>s.classList.remove("active")),e[n]&&e[n].classList.add("active")};window.addEventListener("scroll",i),i()}};var d,c={x:0,y:0},r={x:window.innerWidth,y:window.innerHeight};Math.dist=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))},window.addEventListener("mousemove",function(t){r.x=t.clientX,r.y=t.clientY}),window.addEventListener("touchmove",function(t){var e=t.touches[0];r.x=e.clientX,r.y=e.clientY},{passive:!1});var v=function(t,e){var i=document.createElement("span");return i.setAttribute("data-char",e),i.innerText=e,t.appendChild(i),this.getDist=function(){return this.pos=i.getBoundingClientRect(),Math.dist(c,{x:this.pos.x+this.pos.width/1.75,y:this.pos.y})},this.getAttr=function(n,s,o){var a=o-Math.abs(o*n/d);return Math.max(s,a+s)},this.update=function(n){var s=this.getDist();this.wdth=n.wdth?~~this.getAttr(s,12,50):100,this.wght=n.wght?~~this.getAttr(s,300,700):400,this.draw()},this.draw=function(){var n="";n+="opacity: "+this.alpha+";",n+="font-variation-settings: 'wght' "+this.wght+", 'wdth' "+this.wdth+";",i.style=n},this},f=function(){this.flex=!0,this.width=!0,this.weight=!0;var t,e=[];return this.init=function(){t=document.querySelectorAll(".text-transition"),t.forEach(i=>{var n=i.innerText;i.innerHTML="";for(var s=[],o=0;o<n.length;o++){var a=new v(i,n[o]);s.push(a)}e.push({element:i,chars:s})}),this.set(),window.addEventListener("resize",this.setSize.bind(this))},this.set=function(){t.forEach(i=>{i.className+=" hoverable",i.className+=this.flex?" flex":"",i.className+=this.stroke?" stroke":""}),this.setSize()},this.setSize=function(){t.forEach((i,n)=>{var s=e[n].chars,o=window.innerWidth/(s.length/2);if(i.style="font-size: "+o+"px;",this.scale){var a=(window.innerHeight/i.getBoundingClientRect().height).toFixed(2),y=a*.8;i.style="font-size: "+o+"px; transform: scale(1,"+a+"); line-height: "+y+"em;"}})},this.animate=function(){c.x+=(r.x-c.x)/20,c.y+=(r.y-c.y)/20,requestAnimationFrame(this.animate.bind(this)),this.render()},this.render=function(){t.forEach((i,n)=>{var s=e[n].chars;d=i.getBoundingClientRect().width/2;for(var o=0;o<s.length;o++)s[o].update({wght:this.weight,wdth:this.width})})},this.init(),this.animate(),this};new f;const w=()=>{const t=document.querySelector(".cursor__ball--big"),e=document.querySelector(".cursor__ball--small"),i=document.querySelectorAll(".hoverable"),n=a=>{TweenMax.to(t,.4,{x:a.pageX-15,y:a.pageY-15}),TweenMax.to(e,.1,{x:a.pageX-5,y:a.pageY-7})},s=()=>{TweenMax.to(t,.3,{scale:12}),t.style.zIndex="1",e.style.display="none"},o=()=>{TweenMax.to(t,.3,{scale:1}),t.style.zIndex="5",e.style.display="block"};document.body.addEventListener("mousemove",n),i.forEach(a=>{a.addEventListener("mouseenter",s),a.addEventListener("mouseleave",o)})},m=()=>{const t=document.querySelector(".section-design"),e=document.querySelector(".section-dev");e&&t&&(e.classList.add("dev-active"),t.addEventListener("mouseenter",()=>{t.classList.add("design-active"),e.classList.remove("dev-active")}),e.addEventListener("mouseenter",()=>{e.classList.add("dev-active"),t.classList.remove("design-active")}),t.addEventListener("mouseleave",()=>t.classList.add("design-active")),e.addEventListener("mouseleave",()=>e.classList.add("dev-active")))},g=()=>{const t=document.querySelectorAll(".eye .pupil");window.addEventListener("mousemove",e=>{t.forEach(i=>{const n=i.getBoundingClientRect(),s=(e.pageX-n.left)/30+"px",o=(e.pageY-n.top)/30+"px";i.style.transform=`translate3d(${s}, ${o}, 0px)`})})};l(),h(),u(),w(),m(),g()});
